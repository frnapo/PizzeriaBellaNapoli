@model IEnumerable<BellaNapoli.Models.Prodotti>

@{
    ViewBag.Title = "Index";
}


    <h2 class="text-center heading mt-1 mb-3">Le nostre pizze</h2>

<div class="container">
    @Html.ActionLink("+ Aggiungi pizza", "Create", new { }, new { @class = "ms-2 btn btn-success menu-button px-5 mb-3" })

    @foreach (var item in Model)
    {
        <div class="row mb-4 mx-2">
            <div class="col-5 d-flex align-items-end justify-content-end @*bg-white shadow*@ rounded-3 rounded-start px-0 text-center">
                <a href="@Url.Action("Details", "Prodotti", new { id = item.idProdotto })">
                    <img class="p-3 pizza-image" src="@item.Foto" alt="Pizza" style="width:100%; max-width: 250px">
                </a>
            </div>

            <div class="col-7 d-flex flex-column">
                <div>
                    <h3 class="ms-2 pizza-head display-5 mt-4">@item.Nome</h3>
                    <p class="ms-2">@item.Ingredienti</p>
                    <div class="ms-2 d-flex">
                        <input type="number" name="quantita" value="1" min="1" max="30">
                        <div class="btn btn-success menu-button rounded-0 buy-button px-4 ms-2" onclick="location.href='@Url.Action("AddToCart", "Prodotti", new { id = item.idProdotto })'">@item.Prezzo.ToString("F2")€</div>
                    </div>
                </div>
                <div class="mt-3">
                    <div>
                        @* mostro solo i minuti col metodo Minutes di TimeSpan *@
                        <span class="ms-2"><i class="bi bi-clock me-2"></i></span>@item.Consegna.Minutes minuti
                        @*@Html.ActionLink("Modifica", "Edit", new { id = item.idProdotto }) |
                            @Html.ActionLink("Elimina", "Delete", new { id = item.idProdotto })*@
                    </div>
                </div>
            </div>
        </div>
    }

</div>


@* ------------------------------ TOASTS --------------------------------- *@

@if (TempData["CreateMess"] != null)
{
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script type="text/javascript">
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }
        toastr.success('@TempData["CreateMess"]')
    </script>
}

@if (TempData["CartMessage"] != null)
{
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script type="text/javascript">
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }
        toastr.warning('@TempData["CartMessage"]')
    </script>
}


